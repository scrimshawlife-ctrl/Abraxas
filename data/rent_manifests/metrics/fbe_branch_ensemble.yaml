# Rent Manifest: Forecast Branch Ensemble (FBE) v0.1

id: "fbe_branch_ensemble_v0_1"
kind: "metric"
version: "0.1.0"

description: |
  Probabilistic forecasting via branch ensembles.
  Tracks multiple future scenarios with probability mass,
  updated deterministically via eligible influences.

improves:
  - "calibration"
  - "auditability"
  - "long_horizon_forecasting"
  - "integrity_awareness"

measurable_by:
  - "brier_score"
  - "log_score"
  - "calibration_bins"
  - "branch_update_ledger_integrity"

rent_claim:
  complexity:
    loc: 800  # Forecast module + integration
    cognitive: 5  # Moderate: probabilistic updates
    dependencies: ["SMEM", "SIW", "Integrity", "Backtest"]

  thresholds:
    # Start conservative - just require non-null scoring
    branch_update_ledger_exists: true
    min_ensemble_count: 1
    probability_normalization_error_max: 0.01  # sum(p) must be ~1.0

  cost_model:
    time_ms_expected: 50  # Per ensemble update
    memory_kb_expected: 500  # Per ensemble state

proof:
  tests:
    - "tests/test_fbe_system.py"

  golden_files:
    - "tests/golden/forecast/ensemble_deepfake_H72H.json"

  ledgers:
    - "out/forecast_ledgers/branch_updates.jsonl"

  documentation:
    - "docs/specs/fbe_v0_1.md"
    - "docs/plan/fbe_v0_1_scoreboard_v0_1_patch_plan.md"

provenance:
  created_at: "2025-12-26"
  author: "Abraxas Core Team"
  rationale: |
    Enables probabilistic forecasting with full auditability.
    Every probability update traceable to specific influence events.
    SSI dampening prevents manipulation from synthetic sources.

  alternatives_considered:
    - "Point forecasts only (rejected: no uncertainty quantification)"
    - "ML-based probability updates (rejected: non-deterministic)"
    - "External forecast aggregation (rejected: no provenance)"
