id: "scenario_router"
kind: "operator"
domain: "ROUTING"
description: "Routes incoming scenario envelopes to appropriate handlers based on domain and priority"
owner_module: "abraxas.scenario.router"
operator_id: "scenario_router"

inputs: ["scenario_envelope", "routing_rules", "handler_registry"]
outputs: ["routing_decision", "handler_assignment"]

cost_model:
  time_ms_expected: 15
  memory_kb_expected: 256
  io_expected: "read"

rent_claim:
  improves: ["routing_determinism", "auditability", "operational_transparency"]
  measurable_by: ["golden_test", "routing_decision_log"]
  thresholds:
    routing_accuracy_min: 0.95

proof:
  tests:
    - "tests/test_scenario_router.py::test_routing_logic"
    - "tests/test_scenario_router.py::test_routing_priority"
  golden_files:
    - "tests/golden/operators/scenario_router_decisions.json"
  ledgers_touched:
    - "out/routing_ledgers/scenario_routing.jsonl"

ter_edges_claimed:
  - from: "scenario_ingress"
    to: "scenario_router"
  - from: "scenario_router"
    to: "scenario_handler"

version: "0.1"
created_at: "2025-12-26"
