{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Build EPP Input",
  "description": "Input schema for evolve.epp.build capability",
  "type": "object",
  "required": ["run_id"],
  "properties": {
    "run_id": {
      "type": "string",
      "description": "Run identifier"
    },
    "out_dir": {
      "type": "string",
      "description": "Output directory for reports",
      "default": "out/reports"
    },
    "inputs_dir": {
      "type": "string",
      "description": "Input directory for reports",
      "default": "out/reports"
    },
    "osh_ledger_path": {
      "type": "string",
      "description": "Path to OSH ledger JSONL",
      "default": "out/osh_ledgers/fetch_artifacts.jsonl"
    },
    "integrity_snapshot_path": {
      "type": ["string", "null"],
      "description": "Optional path to integrity snapshot"
    },
    "dap_path": {
      "type": ["string", "null"],
      "description": "Optional path to DAP artifact"
    },
    "mwr_path": {
      "type": ["string", "null"],
      "description": "Optional path to mimetic weather artifact"
    },
    "a2_path": {
      "type": ["string", "null"],
      "description": "Optional path to AAlmanac/slang terms artifact"
    },
    "a2_phase_path": {
      "type": ["string", "null"],
      "description": "Optional path to A2 temporal profiles artifact"
    },
    "audit_path": {
      "type": ["string", "null"],
      "description": "Optional path to forecast audit artifact"
    },
    "ledger_path": {
      "type": "string",
      "description": "Path to EPP ledger",
      "default": "out/value_ledgers/epp_runs.jsonl"
    },
    "max_proposals": {
      "type": "integer",
      "description": "Maximum proposals to include",
      "minimum": 1,
      "default": 25
    },
    "ts": {
      "type": ["string", "null"],
      "description": "Optional timestamp override (ISO8601)"
    }
  },
  "additionalProperties": false
}
